name: CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - uses: actions/setup-node@v1
      with:
          node-version: '10.x'
    - name: Install Dependencies
      run:  npm install
    - name: Build and deploy
      env:
        NODE_ENV: production
      run: |
        npm run build

        # navigate into the build output directory
        cd dist
        
        git init
        git add -A
        git commit -m 'deploy'

        # if you are deploying to https://<USERNAME>.github.io/<REPO>
        git push -f https://github.com/steffimo/iotgame.git master:gh-pages

 
